'use strict';

angular.module('georgieStClaireApp')
  .controller('FirehoseCtrl', function ($http, $scope, $interval, $timeout, $location, Auth, speak) {
    $scope.max = new Date(new Date().getTime() + 48 * 60 * 60 * 1000);

    $scope.today = function() {
       $scope.dt = new Date();
    };
    $scope.today();

    $scope.clear = function() {
       $scope.dt = null;
    };

    // Disable weekend selection
    $scope.disabled = function(date, mode) {
       return (mode === 'day' && (date.getDay() === 0 || date.getDay() === 6));
    };

    $scope.toggleMin = function() {
       $scope.minDate = $scope.minDate ? null : new Date();
    };
    $scope.toggleMin();

    $scope.open = function($event) {
       $event.preventDefault();
       $event.stopPropagation();

       $scope.opened = true;
    };

    // $scope.get_news = function() {
    //    $http.post('/api/news/firehose',{
    //         // keyword: $scope.keyword,
    //         keyword: 'food',
    //         date: new Date($scope.dt)
    //     }).success(function(subs){
    //         console.log('$scope.sampleData and subs before: ', $scope.sampleData, subs);
    //         $scope.sampleData = subs.map(function(x){ return x });
    //         console.log('$scope.sampleData after: ', $scope.sampleData);
    //     }).error(function(err){
    //       if(err) throw new Error(err);
    //     });
    // }

    //first call
    // $http.post('/api/news/firehose',{
    //         // keyword: $scope.keyword,
    //         keyword: 'food',
    //         date: new Date($scope.dt)
    //     }).success(function(subs){
    //         $scope.sampleData = subs;
    //     }).error(function(err){
    //       if(err) throw new Error(err);
    // });

    $scope.sampleData = ['Arts&Leisure',
  { width: 190,
    url: 'images/2014/12/14/arts/14SUELLENTROP3/14SUELLENTROP3-thumbWide.jpg',
    height: 126,
    subtype: 'wide',
    legacy:
     { wide: 'images/2014/12/14/arts/14SUELLENTROP3/14SUELLENTROP3-thumbWide.jpg',
       wideheight: '126',
       widewidth: '190' },
    type: 'image' },
  { width: 600,
    url: 'images/2014/12/14/arts/14SUELLENTROP3/14SUELLENTROP3-articleLarge.jpg',
    height: 372,
    subtype: 'xlarge',
    legacy:
     { xlargewidth: '600',
       xlarge: 'images/2014/12/14/arts/14SUELLENTROP3/14SUELLENTROP3-articleLarge.jpg',
       xlargeheight: '372' },
    type: 'image' },
  { width: 75,
    url: 'images/2014/12/14/arts/14SUELLENTROP3/14SUELLENTROP3-thumbStandard.jpg',
    height: 75,
    subtype: 'thumbnail',
    legacy:
     { thumbnailheight: '75',
       thumbnail: 'images/2014/12/14/arts/14SUELLENTROP3/14SUELLENTROP3-thumbStandard.jpg',
       thumbnailwidth: '75' },
    type: 'image' },
  { rank: '1',
    is_major: 'N',
    name: 'subject',
    value: 'Computer and Video Games' },
  'BookReview',
  { width: 190,
    url: 'images/2014/12/14/books/review/14FALLOWS/1214-bks-FALLOWS-thumbWide.jpg',
    height: 126,
    subtype: 'wide',
    legacy:
     { wide: 'images/2014/12/14/books/review/14FALLOWS/1214-bks-FALLOWS-thumbWide.jpg',
       wideheight: '126',
       widewidth: '190' },
    type: 'image' },
  { width: 600,
    url: 'images/2014/12/14/books/review/14FALLOWS/1214-bks-FALLOWS-articleLarge.jpg',
    height: 649,
    subtype: 'xlarge',
    legacy:
     { xlargewidth: '600',
       xlarge: 'images/2014/12/14/books/review/14FALLOWS/1214-bks-FALLOWS-articleLarge.jpg',
       xlargeheight: '649' },
    type: 'image' },
  { width: 75,
    url: 'images/2014/12/14/books/review/14FALLOWS/1214-bks-FALLOWS-thumbStandard.jpg',
    height: 75,
    subtype: 'thumbnail',
    legacy:
     { thumbnailheight: '75',
       thumbnail: 'images/2014/12/14/books/review/14FALLOWS/1214-bks-FALLOWS-thumbStandard.jpg',
       thumbnailwidth: '75' },
    type: 'image' },
  { rank: '2',
    is_major: 'N',
    name: 'persons',
    value: 'Armstrong, Karen' },
  { rank: '3',
    is_major: 'N',
    name: 'subject',
    value: 'Books and Literature' },
  { rank: '4',
    is_major: 'N',
    name: 'subject',
    value: 'Religion and Belief' },
  'World / Middle East',
  { width: 190,
    url: 'images/2014/11/17/multimedia/isis-overview/isis-overview-thumbWide.jpg',
    height: 126,
    subtype: 'wide',
    legacy:
     { wide: 'images/2014/11/17/multimedia/isis-overview/isis-overview-thumbWide.jpg',
       wideheight: '126',
       widewidth: '190' },
    type: 'image' },
  { width: 600,
    url: 'images/2014/11/17/multimedia/isis-overview/isis-overview-articleLarge.jpg',
    height: 289,
    subtype: 'xlarge',
    legacy:
     { xlargewidth: '600',
       xlarge: 'images/2014/11/17/multimedia/isis-overview/isis-overview-articleLarge.jpg',
       xlargeheight: '289' },
    type: 'image' },
  { width: 75,
    url: 'images/2014/11/17/multimedia/isis-overview/isis-overview-thumbStandard.jpg',
    height: 75,
    subtype: 'thumbnail',
    legacy:
     { thumbnailheight: '75',
       thumbnail: 'images/2014/11/17/multimedia/isis-overview/isis-overview-thumbStandard.jpg',
       thumbnailwidth: '75' },
    type: 'image' },
  { rank: '1', is_major: 'N', name: 'subject', value: 'Terrorism' },
  { rank: '11',
    is_major: 'N',
    name: 'organizations',
    value: 'YouTube.com' },
  { rank: '12',
    is_major: 'N',
    name: 'organizations',
    value: 'Al Qaeda' },
  { rank: '13',
    is_major: 'N',
    name: 'organizations',
    value: 'Facebook Inc (FB/NASDAQ)' },
  { rank: '14',
    is_major: 'N',
    name: 'organizations',
    value: 'Twitter (TWTR/NYSE)' },
  { rank: '15',
    is_major: 'N',
    name: 'organizations',
    value: 'United Nations Children\'s Fund' },
  { rank: '16',
    is_major: 'N',
    name: 'persons',
    value: 'Baghdadi, Abu Bakr al-' },
  { rank: '17',
    is_major: 'N',
    name: 'persons',
    value: 'Hussein, Saddam' },
  { rank: '18',
    is_major: 'N',
    name: 'persons',
    value: 'Obama, Barack' },
  { rank: '19', is_major: 'N', name: 'glocations', value: 'Iraq' },
  { rank: '20',
    is_major: 'N',
    name: 'glocations',
    value: 'Mosul (Iraq)' },
  { rank: '2',
    is_major: 'N',
    name: 'subject',
    value: 'United States Defense and Military Forces' },
  { rank: '21',
    is_major: 'N',
    name: 'glocations',
    value: 'Raqqa (Syria)' },
  { rank: '22',
    is_major: 'N',
    name: 'glocations',
    value: 'Baghdad (Iraq)' },
  { rank: '23', is_major: 'N', name: 'glocations', value: 'Syria' },
  { rank: '24', is_major: 'N', name: 'glocations', value: 'Canada' },
  { rank: '25',
    is_major: 'N',
    name: 'glocations',
    value: 'Middle East' },
  { rank: '3',
    is_major: 'N',
    name: 'subject',
    value: 'Yazidi (Religious Sect)' },
  { rank: '4',
    is_major: 'N',
    name: 'subject',
    value: 'Muslims and Islam' },
  { rank: '5',
    is_major: 'N',
    name: 'subject',
    value: 'Social Media' },
  { rank: '6',
    is_major: 'N',
    name: 'subject',
    value: 'Video Recordings, Downloads and Streaming' },
  { rank: '7',
    is_major: 'N',
    name: 'subject',
    value: 'Kidnapping and Hostages' },
  { rank: '8', is_major: 'N', name: 'subject', value: 'Sex Crimes' },
  { rank: '9',
    is_major: 'N',
    name: 'subject',
    value: 'Shariah (Islamic Law)' },
  { rank: '10',
    is_major: 'N',
    name: 'organizations',
    value: 'Islamic State in Iraq and Syria (ISIS)' },
  'None',
  'None',
  'None' ,'Culture',
  { width: 190,
    url: 'images/2014/12/13/arts/NELLA/NELLA-thumbWide.jpg',
    height: 126,
    subtype: 'wide',
    legacy:
     { wide: 'images/2014/12/13/arts/NELLA/NELLA-thumbWide.jpg',
       wideheight: '126',
       widewidth: '190' },
    type: 'image' },
  { width: 600,
    url: 'images/2014/12/13/arts/NELLA/NELLA-articleLarge.jpg',
    height: 400,
    subtype: 'xlarge',
    legacy:
     { xlargewidth: '600',
       xlarge: 'images/2014/12/13/arts/NELLA/NELLA-articleLarge.jpg',
       xlargeheight: '400' },
    type: 'image' },
  { width: 75,
    url: 'images/2014/12/13/arts/NELLA/NELLA-thumbStandard.jpg',
    height: 75,
    subtype: 'thumbnail',
    legacy:
     { thumbnailheight: '75',
       thumbnail: 'images/2014/12/13/arts/NELLA/NELLA-thumbStandard.jpg',
       thumbnailwidth: '75' },
    type: 'image' },
  { rank: '1', is_major: 'N', name: 'subject', value: 'Theater' },
  { rank: '2',
    is_major: 'N',
    name: 'creative_works',
    value: 'Alexis. A Greek Tragedy (Play)' },
  'National',
  { width: 190,
    url: 'images/2014/12/14/us/SOUL/SOUL-thumbWide.jpg',
    height: 126,
    subtype: 'wide',
    legacy:
     { wide: 'images/2014/12/14/us/SOUL/SOUL-thumbWide.jpg',
       wideheight: '126',
       widewidth: '190' },
    type: 'image' },
  { width: 600,
    url: 'images/2014/12/14/us/SOUL/SOUL-articleLarge.jpg',
    height: 395,
    subtype: 'xlarge',
    legacy:
     { xlargewidth: '600',
       xlarge: 'images/2014/12/14/us/SOUL/SOUL-articleLarge.jpg',
       xlargeheight: '395' },
    type: 'image' },
  { width: 75,
    url: 'images/2014/12/14/us/SOUL/SOUL-thumbStandard.jpg',
    height: 75,
    subtype: 'thumbnail',
    legacy:
     { thumbnailheight: '75',
       thumbnail: 'images/2014/12/14/us/SOUL/SOUL-thumbStandard.jpg',
       thumbnailwidth: '75' },
    type: 'image' },
  { rank: '1',
    is_major: 'N',
    name: 'subject',
    value: 'Wills and Estates' },
  { rank: '2',
    is_major: 'N',
    name: 'persons',
    value: 'Brown, James (1933-2006)' },
  { rank: '3', is_major: 'N', name: 'subject', value: 'Royalties' },
  { rank: '4',
    is_major: 'N',
    name: 'glocations',
    value: 'South Carolina' },
  { rank: '5',
    is_major: 'N',
    name: 'subject',
    value: 'Suits and Litigation (Civil)' },
  { rank: '6',
    is_major: 'N',
    name: 'subject',
    value: 'Philanthropy' },
  'Editorial',
  { width: 190,
    url: 'images/2014/12/14/sunday-review/14BRUNIsub/14BRUNIsub-thumbWide.jpg',
    height: 126,
    subtype: 'wide',
    legacy:
     { wide: 'images/2014/12/14/sunday-review/14BRUNIsub/14BRUNIsub-thumbWide.jpg',
       wideheight: '126',
       widewidth: '190' },
    type: 'image' },
  { width: 600,
    url: 'images/2014/12/14/sunday-review/14BRUNIsub/14BRUNIsub-articleLarge.jpg',
    height: 681,
    subtype: 'xlarge',
    legacy:
     { xlargewidth: '600',
       xlarge: 'images/2014/12/14/sunday-review/14BRUNIsub/14BRUNIsub-articleLarge.jpg',
       xlargeheight: '681' },
    type: 'image' },
  { width: 75,
    url: 'images/2014/12/14/sunday-review/14BRUNIsub/14BRUNIsub-thumbStandard.jpg',
    height: 75,
    subtype: 'thumbnail',
    legacy:
     { thumbnailheight: '75',
       thumbnail: 'images/2014/12/14/sunday-review/14BRUNIsub/14BRUNIsub-thumbStandard.jpg',
       thumbnailwidth: '75' },
    type: 'image' },
  { rank: '1',
    is_major: 'N',
    name: 'subject',
    value: 'Presidential Election of 2016' },
  { rank: '2', is_major: 'N', name: 'persons', value: 'Bush, Jeb' },
  { rank: '3',
    is_major: 'N',
    name: 'persons',
    value: 'Christie, Christopher J' },
  { rank: '4',
    is_major: 'N',
    name: 'persons',
    value: 'Rubio, Marco' },
  { rank: '5',
    is_major: 'N',
    name: 'subject',
    value: 'United States Politics and Government' },
  { rank: '6',
    is_major: 'N',
    name: 'organizations',
    value: 'Republican Party' },
  'Editorial',
  { width: 190,
    url: 'images/2014/12/14/sunday-review/14KRISTOF/14KRISTOF-thumbWide.jpg',
    height: 126,
    subtype: 'wide',
    legacy:
     { wide: 'images/2014/12/14/sunday-review/14KRISTOF/14KRISTOF-thumbWide.jpg',
       wideheight: '126',
       widewidth: '190' },
    type: 'image' },
  { width: 600,
    url: 'images/2014/12/14/sunday-review/14KRISTOF/14KRISTOF-articleLarge.jpg',
    height: 375,
    subtype: 'xlarge',
    legacy:
     { xlargewidth: '600',
       xlarge: 'images/2014/12/14/sunday-review/14KRISTOF/14KRISTOF-articleLarge.jpg',
       xlargeheight: '375' },
    type: 'image' },
  { width: 75,
    url: 'images/2014/12/14/sunday-review/14KRISTOF/14KRISTOF-thumbStandard.jpg',
    height: 75,
    subtype: 'thumbnail',
    legacy:
     { thumbnailheight: '75',
       thumbnail: 'images/2014/12/14/sunday-review/14KRISTOF/14KRISTOF-thumbStandard.jpg',
       thumbnailwidth: '75' },
    type: 'image' },
  { rank: '1',
    is_major: 'N',
    name: 'subject',
    value: 'Race and Ethnicity' },
  { rank: '2', is_major: 'N', name: 'subject', value: 'Blacks' },
  { rank: '3',
    is_major: 'N',
    name: 'subject',
    value: 'Discrimination' },
  { rank: '4',
    is_major: 'N',
    name: 'subject',
    value: 'Juvenile Delinquency' },
  { rank: '5',
    is_major: 'N',
    name: 'subject',
    value: 'Prisons and Prisoners' },
  { rank: '6',
    is_major: 'N',
    name: 'subject',
    value: 'Crime and Criminals' },
  { rank: '7',
    is_major: 'N',
    name: 'organizations',
    value: 'Equal Justice Initiative' },
  'Sports',
  { width: 190,
    url: 'images/2014/12/14/sports/DOG-tennis1/DOG-tennis1-thumbWide.jpg',
    height: 126,
    subtype: 'wide',
    legacy:
     { wide: 'images/2014/12/14/sports/DOG-tennis1/DOG-tennis1-thumbWide.jpg',
       wideheight: '126',
       widewidth: '190' },
    type: 'image' },
  { width: 600,
    url: 'images/2014/12/14/sports/DOG-tennis1/DOG-tennis1-articleLarge.jpg',
    height: 408,
    subtype: 'xlarge',
    legacy:
     { xlargewidth: '600',
       xlarge: 'images/2014/12/14/sports/DOG-tennis1/DOG-tennis1-articleLarge.jpg',
       xlargeheight: '408' },
    type: 'image' },
  { width: 75,
    url: 'images/2014/12/14/sports/DOG-tennis1/DOG-tennis1-thumbStandard.jpg',
    height: 75,
    subtype: 'thumbnail',
    legacy:
     { thumbnailheight: '75',
       thumbnail: 'images/2014/12/14/sports/DOG-tennis1/DOG-tennis1-thumbStandard.jpg',
       thumbnailwidth: '75' },
    type: 'image' },
  { rank: '1', is_major: 'N', name: 'subject', value: 'Tennis' },
  { rank: '2',
    is_major: 'N',
    name: 'persons',
    value: 'Murray, Andy' },
  { rank: '3',
    is_major: 'N',
    name: 'persons',
    value: 'Mauresmo, Amelie' },
  { rank: '4',
    is_major: 'N',
    name: 'persons',
    value: 'Lendl, Ivan' },
  { rank: '5',
    is_major: 'N',
    name: 'persons',
    value: 'Radwanska, Agnieszka' },
  'Metro',
  { width: 190,
    url: 'images/2014/12/14/nyregion/14ARTSNJ1/14ARTSNJ1-thumbWide.jpg',
    height: 126,
    subtype: 'wide',
    legacy:
     { wide: 'images/2014/12/14/nyregion/14ARTSNJ1/14ARTSNJ1-thumbWide.jpg',
       wideheight: '126',
       widewidth: '190' },
    type: 'image' },
  { width: 600,
    url: 'images/2014/12/14/nyregion/14ARTSNJ1/14ARTSNJ1-articleLarge.jpg',
    height: 347,
    subtype: 'xlarge',
    legacy:
     { xlargewidth: '600',
       xlarge: 'images/2014/12/14/nyregion/14ARTSNJ1/14ARTSNJ1-articleLarge.jpg',
       xlargeheight: '347' },
    type: 'image' },
  { width: 75,
    url: 'images/2014/12/14/nyregion/14ARTSNJ1/14ARTSNJ1-thumbStandard.jpg',
    height: 75,
    subtype: 'thumbnail',
    legacy:
     { thumbnailheight: '75',
       thumbnail: 'images/2014/12/14/nyregion/14ARTSNJ1/14ARTSNJ1-thumbStandard.jpg',
       thumbnailwidth: '75' },
    type: 'image' },
  { rank: '1', is_major: 'N', name: 'subject', value: 'Theater' },
  { rank: '3',
    is_major: 'N',
    name: 'organizations',
    value: 'Paper Mill Playhouse' },
  { rank: '5',
    is_major: 'N',
    name: 'persons',
    value: 'Blickenstaff, Heidi' },
  { rank: '6',
    is_major: 'N',
    name: 'persons',
    value: 'Cuccioli, Robert' },
  'Metro',
  { width: 190,
    url: 'images/2014/12/14/nyregion/14ARTSCT2/14ARTSCT2-thumbWide.jpg',
    height: 126,
    subtype: 'wide',
    legacy:
     { wide: 'images/2014/12/14/nyregion/14ARTSCT2/14ARTSCT2-thumbWide.jpg',
       wideheight: '126',
       widewidth: '190' },
    type: 'image' },
  { width: 600,
    url: 'images/2014/12/14/nyregion/14ARTSCT2/14ARTSCT2-articleLarge.jpg',
    height: 420,
    subtype: 'xlarge',
    legacy:
     { xlargewidth: '600',
       xlarge: 'images/2014/12/14/nyregion/14ARTSCT2/14ARTSCT2-articleLarge.jpg',
       xlargeheight: '420' },
    type: 'image' },
  { width: 75,
    url: 'images/2014/12/14/nyregion/14ARTSCT2/14ARTSCT2-thumbStandard.jpg',
    height: 75,
    subtype: 'thumbnail',
    legacy:
     { thumbnailheight: '75',
       thumbnail: 'images/2014/12/14/nyregion/14ARTSCT2/14ARTSCT2-thumbStandard.jpg',
       thumbnailwidth: '75' },
    type: 'image' },
  { rank: '2',
    is_major: 'N',
    name: 'persons',
    value: 'Martin, Steve' },
  { rank: '3',
    is_major: 'N',
    name: 'glocations',
    value: 'New Haven (Conn)' },
  { rank: '4', is_major: 'N', name: 'subject', value: 'Theater' },
  { rank: '5',
    is_major: 'N',
    name: 'organizations',
    value: 'Long Wharf Theater' },
  'Styles',
  { rank: '1',
    is_major: 'N',
    name: 'subject',
    value: 'Fashion and Apparel' },
  { rank: '2',
    is_major: 'N',
    name: 'subject',
    value: 'Academy Awards (Oscars)' },
  { rank: '3',
    is_major: 'N',
    name: 'persons',
    value: 'Cotillard, Marion' },
  { rank: '4',
    is_major: 'N',
    name: 'organizations',
    value: 'Christian Dior SA' },
  { rank: '5',
    is_major: 'N',
    name: 'creative_works',
    value: 'The Immigrant (Movie)' },
  { rank: '6',
    is_major: 'N',
    name: 'creative_works',
    value: 'Two Days, One Night (Movie)' },
  { rank: '7',
    is_major: 'N',
    name: 'subject',
    value: 'Awards, Decorations and Honors' },
  'Metro',
  { rank: '1',
    is_major: 'N',
    name: 'subject',
    value: 'Education (K-12)' },
  { rank: '2',
    is_major: 'N',
    name: 'glocations',
    value: 'Brownsville (Brooklyn, NY)' },
  'Metro',
  { width: 190,
    url: 'images/2014/12/14/nyregion/14SANDY_COMBO/14SANDY_COMBO-thumbWide.jpg',
    height: 126,
    subtype: 'wide',
    legacy:
     { wide: 'images/2014/12/14/nyregion/14SANDY_COMBO/14SANDY_COMBO-thumbWide.jpg',
       wideheight: '126',
       widewidth: '190' },
    type: 'image' },
  { width: 600,
    url: 'images/2014/12/14/nyregion/14SANDY_COMBO/14SANDY_COMBO-articleLarge.jpg',
    height: 607,
    subtype: 'xlarge',
    legacy:
     { xlargewidth: '600',
       xlarge: 'images/2014/12/14/nyregion/14SANDY_COMBO/14SANDY_COMBO-articleLarge.jpg',
       xlargeheight: '607' },
    type: 'image' },
  { width: 75,
    url: 'images/2014/12/14/nyregion/14SANDY_COMBO/14SANDY_COMBO-thumbStandard-v2.jpg',
    height: 75,
    subtype: 'thumbnail',
    legacy:
     { thumbnailheight: '75',
       thumbnail: 'images/2014/12/14/nyregion/14SANDY_COMBO/14SANDY_COMBO-thumbStandard-v2.jpg',
       thumbnailwidth: '75' },
    type: 'image' },
  { rank: '1',
    is_major: 'N',
    name: 'persons',
    value: 'Rubenstein, Sanford A' },
  { rank: '2',
    is_major: 'N',
    name: 'subject',
    value: 'Suits and Litigation (Civil)' },
  { rank: '3', is_major: 'N', name: 'subject', value: 'Sex Crimes' },
  { rank: '4',
    is_major: 'N',
    name: 'subject',
    value: 'Police Brutality, Misconduct and Shootings' },
  { rank: '5',
    is_major: 'N',
    name: 'persons',
    value: 'Sharpton, Al' },
  { rank: '6',
    is_major: 'N',
    name: 'glocations',
    value: 'New York City' }, 'BookReview',
  { width: 190,
    url: 'images/2014/12/14/books/review/14pbaker/14pbaker-thumbWide-v3.jpg',
    height: 126,
    subtype: 'wide',
    legacy:
     { wide: 'images/2014/12/14/books/review/14pbaker/14pbaker-thumbWide-v3.jpg',
       wideheight: '126',
       widewidth: '190' },
    type: 'image' },
  { width: 600,
    url: 'images/2014/12/14/books/review/14pbaker/14pbaker-articleLarge.jpg',
    height: 921,
    subtype: 'xlarge',
    legacy:
     { xlargewidth: '600',
       xlarge: 'images/2014/12/14/books/review/14pbaker/14pbaker-articleLarge.jpg',
       xlargeheight: '921' },
    type: 'image' },
  { width: 75,
    url: 'images/2014/12/14/books/review/14pbaker/14pbaker-thumbStandard-v3.jpg',
    height: 75,
    subtype: 'thumbnail',
    legacy:
     { thumbnailheight: '75',
       thumbnail: 'images/2014/12/14/books/review/14pbaker/14pbaker-thumbStandard-v3.jpg',
       thumbnailwidth: '75' },
    type: 'image' },
  { rank: '1',
    is_major: 'N',
    name: 'creative_works',
    value: '41: A Portrait of My Father (Book)' },
  { rank: '2',
    is_major: 'N',
    name: 'persons',
    value: 'Bush, George W' },
  { rank: '3',
    is_major: 'N',
    name: 'persons',
    value: 'Bush, George' },
  { rank: '4',
    is_major: 'N',
    name: 'subject',
    value: 'Books and Literature' },
  { rank: '5',
    is_major: 'N',
    name: 'subject',
    value: 'Presidents and Presidency (US)' },
  'BookReview',
  { width: 190,
    url: 'images/2014/12/14/books/review/14insidelist/14insidelist-thumbWide.jpg',
    height: 126,
    subtype: 'wide',
    legacy:
     { wide: 'images/2014/12/14/books/review/14insidelist/14insidelist-thumbWide.jpg',
       wideheight: '126',
       widewidth: '190' },
    type: 'image' },
  { width: 75,
    url: 'images/2014/12/14/books/review/14insidelist/14insidelist-thumbStandard.jpg',
    height: 75,
    subtype: 'thumbnail',
    legacy:
     { thumbnailheight: '75',
       thumbnail: 'images/2014/12/14/books/review/14insidelist/14insidelist-thumbStandard.jpg',
       thumbnailwidth: '75' },
    type: 'image' },
  { rank: '1',
    is_major: 'N',
    name: 'subject',
    value: 'Books and Literature' },
  'Letters',
  { rank: '1',
    is_major: 'N',
    name: 'subject',
    value: 'Prostate Cancer' },
  { rank: '2',
    is_major: 'N',
    name: 'subject',
    value: 'Prostate Gland' },
  { rank: '3',
    is_major: 'N',
    name: 'subject',
    value: 'Tests (Medical)' },
  'National',
  { width: 190,
    url: 'images/2014/12/14/us/SOUL/SOUL-thumbWide.jpg',
    height: 126,
    subtype: 'wide',
    legacy:
     { wide: 'images/2014/12/14/us/SOUL/SOUL-thumbWide.jpg',
       wideheight: '126',
       widewidth: '190' },
    type: 'image' },
  { width: 600,
    url: 'images/2014/12/14/us/SOUL/SOUL-articleLarge.jpg',
    height: 395,
    subtype: 'xlarge',
    legacy:
     { xlargewidth: '600',
       xlarge: 'images/2014/12/14/us/SOUL/SOUL-articleLarge.jpg',
       xlargeheight: '395' },
    type: 'image' },
  { width: 75,
    url: 'images/2014/12/14/us/SOUL/SOUL-thumbStandard.jpg',
    height: 75,
    subtype: 'thumbnail',
    legacy:
     { thumbnailheight: '75',
       thumbnail: 'images/2014/12/14/us/SOUL/SOUL-thumbStandard.jpg',
       thumbnailwidth: '75' },
    type: 'image' },
  { rank: '1',
    is_major: 'N',
    name: 'subject',
    value: 'Wills and Estates' },
  { rank: '2',
    is_major: 'N',
    name: 'persons',
    value: 'Brown, James (1933-2006)' },
  { rank: '3', is_major: 'N', name: 'subject', value: 'Royalties' },
  { rank: '4',
    is_major: 'N',
    name: 'glocations',
    value: 'South Carolina' },
  { rank: '5',
    is_major: 'N',
    name: 'subject',
    value: 'Suits and Litigation (Civil)' },
  { rank: '6',
    is_major: 'N',
    name: 'subject',
    value: 'Philanthropy' },
  'National',
  { rank: '1',
    is_major: 'N',
    name: 'subject',
    value: 'School Shootings and Armed Attacks' },
  { rank: '2',
    is_major: 'N',
    name: 'glocations',
    value: 'Portland (Ore)' },
  'OpEd',
  { width: 190,
    url: 'images/2014/12/14/sunday-review/14TALK/14TALK-thumbWide.jpg',
    height: 126,
    subtype: 'wide',
    legacy:
     { wide: 'images/2014/12/14/sunday-review/14TALK/14TALK-thumbWide.jpg',
       wideheight: '126',
       widewidth: '190' },
    type: 'image' },
  { width: 600,
    url: 'images/2014/12/14/sunday-review/14TALK/14TALK-articleLarge.jpg',
    height: 792,
    subtype: 'xlarge',
    legacy:
     { xlargewidth: '600',
       xlarge: 'images/2014/12/14/sunday-review/14TALK/14TALK-articleLarge.jpg',
       xlargeheight: '792' },
    type: 'image' },
  { width: 75,
    url: 'images/2014/12/14/sunday-review/14TALK/14TALK-thumbStandard.jpg',
    height: 75,
    subtype: 'thumbnail',
    legacy:
     { thumbnailheight: '75',
       thumbnail: 'images/2014/12/14/sunday-review/14TALK/14TALK-thumbStandard.jpg',
       thumbnailwidth: '75' },
    type: 'image' },
  { rank: '1',
    is_major: 'N',
    name: 'subject',
    value: 'Race and Ethnicity' },
  { rank: '2', is_major: 'N', name: 'subject', value: 'Blacks' },
  { rank: '3',
    is_major: 'N',
    name: 'subject',
    value: 'Police Brutality, Misconduct and Shootings' },
  { rank: '4', is_major: 'N', name: 'subject', value: 'Parenting' },
  { rank: '5',
    is_major: 'N',
    name: 'persons',
    value: 'Brown, Michael (1996-2014)' },
  { rank: '6',
    is_major: 'N',
    name: 'persons',
    value: 'Garner, Eric' },
  'OpEd',
  { width: 190,
    url: 'images/2014/12/14/sunday-review/14SERGE/14SERGE-thumbWide.jpg',
    height: 126,
    subtype: 'wide',
    legacy:
     { wide: 'images/2014/12/14/sunday-review/14SERGE/14SERGE-thumbWide.jpg',
       wideheight: '126',
       widewidth: '190' },
    type: 'image' },
  { width: 600,
    url: 'images/2014/12/14/sunday-review/14SERGE/14SERGE-articleLarge.jpg',
    height: 413,
    subtype: 'xlarge',
    legacy:
     { xlargewidth: '600',
       xlarge: 'images/2014/12/14/sunday-review/14SERGE/14SERGE-articleLarge.jpg',
       xlargeheight: '413' },
    type: 'image' },
  { width: 75,
    url: 'images/2014/12/14/sunday-review/14SERGE/14SERGE-thumbStandard.jpg',
    height: 75,
    subtype: 'thumbnail',
    legacy:
     { thumbnailheight: '75',
       thumbnail: 'images/2014/12/14/sunday-review/14SERGE/14SERGE-thumbStandard.jpg',
       thumbnailwidth: '75' },
    type: 'image' },
  { rank: '1',
    is_major: 'N',
    name: 'subject',
    value: 'United States Politics and Government' },
  { rank: '11', is_major: 'N', name: 'subject', value: 'Pets' },
  { rank: '2',
    is_major: 'N',
    name: 'persons',
    value: 'Feinstein, Dianne' },
  { rank: '3',
    is_major: 'N',
    name: 'organizations',
    value: 'Central Intelligence Agency' },
  { rank: '4', is_major: 'N', name: 'subject', value: 'Torture' },
  { rank: '5', is_major: 'N', name: 'subject', value: 'Detainees' },
  { rank: '6',
    is_major: 'N',
    name: 'subject',
    value: 'Human Rights and Human Rights Violations' },
  { rank: '7',
    is_major: 'N',
    name: 'subject',
    value: 'Extraordinary Rendition' },
  { rank: '8',
    is_major: 'N',
    name: 'subject',
    value: 'Campaign Finance' },
  { rank: '9',
    is_major: 'N',
    name: 'subject',
    value: 'Dodd-Frank Wall Street Reform and Consumer Protection Act (2010)' },
  { rank: '10', is_major: 'N', name: 'persons', value: 'Francis' },
  'Editorial',
  { width: 190,
    url: 'images/2014/12/14/sunday-review/14KRISTOF/14KRISTOF-thumbWide.jpg',
    height: 126,
    subtype: 'wide',
    legacy:
     { wide: 'images/2014/12/14/sunday-review/14KRISTOF/14KRISTOF-thumbWide.jpg',
       wideheight: '126',
       widewidth: '190' },
    type: 'image' },
  { width: 600,
    url: 'images/2014/12/14/sunday-review/14KRISTOF/14KRISTOF-articleLarge.jpg',
    height: 375,
    subtype: 'xlarge',
    legacy:
     { xlargewidth: '600',
       xlarge: 'images/2014/12/14/sunday-review/14KRISTOF/14KRISTOF-articleLarge.jpg',
       xlargeheight: '375' },
    type: 'image' },
  { width: 75,
    url: 'images/2014/12/14/sunday-review/14KRISTOF/14KRISTOF-thumbStandard.jpg',
    height: 75,
    subtype: 'thumbnail',
    legacy:
     { thumbnailheight: '75',
       thumbnail: 'images/2014/12/14/sunday-review/14KRISTOF/14KRISTOF-thumbStandard.jpg',
       thumbnailwidth: '75' },
    type: 'image' },
  { rank: '1',
    is_major: 'N',
    name: 'subject',
    value: 'Race and Ethnicity' },
  { rank: '2', is_major: 'N', name: 'subject', value: 'Blacks' },
  { rank: '3',
    is_major: 'N',
    name: 'subject',
    value: 'Discrimination' },
  { rank: '4',
    is_major: 'N',
    name: 'subject',
    value: 'Juvenile Delinquency' },
  { rank: '5',
    is_major: 'N',
    name: 'subject',
    value: 'Prisons and Prisoners' },
  { rank: '6',
    is_major: 'N',
    name: 'subject',
    value: 'Crime and Criminals' },
  { rank: '7',
    is_major: 'N',
    name: 'organizations',
    value: 'Equal Justice Initiative' },
  'Sports',
  { width: 190,
    url: 'images/2014/12/14/sports/DOG-duddy1/DOG-duddy1-thumbWide.jpg',
    height: 126,
    subtype: 'wide',
    legacy:
     { wide: 'images/2014/12/14/sports/DOG-duddy1/DOG-duddy1-thumbWide.jpg',
       wideheight: '126',
       widewidth: '190' },
    type: 'image' },
  { width: 600,
    url: 'images/2014/12/14/sports/DOG-duddy1/DOG-duddy1-articleLarge.jpg',
    height: 394,
    subtype: 'xlarge',
    legacy:
     { xlargewidth: '600',
       xlarge: 'images/2014/12/14/sports/DOG-duddy1/DOG-duddy1-articleLarge.jpg',
       xlargeheight: '394' },
    type: 'image' },
  { width: 75,
    url: 'images/2014/12/14/sports/DOG-duddy1/DOG-duddy1-thumbStandard.jpg',
    height: 75,
    subtype: 'thumbnail',
    legacy:
     { thumbnailheight: '75',
       thumbnail: 'images/2014/12/14/sports/DOG-duddy1/DOG-duddy1-thumbStandard.jpg',
       thumbnailwidth: '75' },
    type: 'image' },
  { rank: '1', is_major: 'N', name: 'subject', value: 'Boxing' },
  { rank: '2',
    is_major: 'N',
    name: 'persons',
    value: 'Duddy, John' },
  { rank: '3', is_major: 'N', name: 'subject', value: 'Movies' },
  'Editorial',
  { width: 190,
    url: 'images/2014/12/14/sunday-review/14COHEN/14COHEN-thumbWide.jpg',
    height: 126,
    subtype: 'wide',
    legacy:
     { wide: 'images/2014/12/14/sunday-review/14COHEN/14COHEN-thumbWide.jpg',
       wideheight: '126',
       widewidth: '190' },
    type: 'image' },
  { width: 600,
    url: 'images/2014/12/14/sunday-review/14COHEN/14COHEN-articleLarge.jpg',
    height: 447,
    subtype: 'xlarge',
    legacy:
     { xlargewidth: '600',
       xlarge: 'images/2014/12/14/sunday-review/14COHEN/14COHEN-articleLarge.jpg',
       xlargeheight: '447' },
    type: 'image' },
  { width: 75,
    url: 'images/2014/12/14/sunday-review/14COHEN/14COHEN-thumbStandard.jpg',
    height: 75,
    subtype: 'thumbnail',
    legacy:
     { thumbnailheight: '75',
       thumbnail: 'images/2014/12/14/sunday-review/14COHEN/14COHEN-thumbStandard.jpg',
       thumbnailwidth: '75' },
    type: 'image' },
  { rank: '1', is_major: 'N', name: 'glocations', value: 'Italy' },
  { rank: '2',
    is_major: 'N',
    name: 'persons',
    value: 'Renzi, Matteo' },
  { rank: '3',
    is_major: 'N',
    name: 'subject',
    value: 'Economic Conditions and Trends' },
  { rank: '4',
    is_major: 'N',
    name: 'subject',
    value: 'Unemployment' },
  { rank: '5',
    is_major: 'N',
    name: 'organizations',
    value: 'European Commission' },
  { rank: '6',
    is_major: 'N',
    name: 'organizations',
    value: 'Eurozone' }];

    $scope.dateOptions = {
       formatYear: 'yy',
       startingDay: 1
    };

    $scope.formats = ['dd-MMMM-yyyy', 'yyyy/MM/dd', 'dd.MM.yyyy', 'shortDate'];
    $scope.format = $scope.formats[1];

    var canvas = angular.element('#myCanvas')[0];
    var wHeight = window.innerHeight - 500;
    var wWidth = window.innerWidth - 900;
    // canvas.style.width = window.innerWidth + "px";
    // canvas.style.height = window.innerHeight + "px";
    var context = canvas.getContext('2d');
    context.canvas.width = window.innerWidth;
    context.canvas.height = window.innerHeight;
    context.canvas.style.background = 'black';

    var firstImg = new Image();
    var useThisForNow = 'http://www.photosinbox.com/download/warning-sign.jpg';
    firstImg.src = useThisForNow;
    firstImg.onload = function() {
      context.drawImage(firstImg,-175,-100,1620,900);
    };

    var count = 100;
    var imageObj = new Image();
    var colors = ['green','red','blue','black','magenta','orange','yellow'];
    var fonts = ['Verdana', 'Arial', 'Georgia', 'Tahoma','Impact','Comic Sans MS'];

    var delayTimer = $timeout(function() {
        var timer = $interval(function() {

                    var idx = Math.floor((Math.random() * $scope.sampleData.length) + 1);
                    var ci1 = Math.floor((Math.random() * colors.length) + 1);
                    var ci2 = Math.floor((Math.random() * colors.length) + 1);
                    var ci3 = Math.floor((Math.random() * colors.length) + 1);
                    var fi = Math.floor((Math.random() * fonts.length) + 1);

                    if($scope.sampleData[idx]){
                      if($scope.sampleData[idx].type == 'image' && $scope.sampleData[idx].width > 500) {
                        var url = 'http://nytimes.com/' + $scope.sampleData[idx].url;
                        imageObj.src = url;
                        imageObj.onload = function() {
                          context.drawImage(imageObj,0,0,1620,900);
                          // context.drawImage(imageObj, 0, 0, window.width, window.height);
                        };
                      } else if($scope.sampleData[idx].name) {
                        if($scope.sampleData[idx].value.length > 18) {
                          var fontStr = "50px " + fonts[fi];
                        } else {
                          var fontStr = "150px " + fonts[fi];
                        }
                        context.font = fontStr;
                        // var gradient=context.createLinearGradient(0,0,canvas.width,0);
                        // gradient.addColorStop("0",colors[ci1]);
                        // gradient.addColorStop("0.5",colors[ci2]);
                        // gradient.addColorStop("1.0",colors[ci3]);
                        // context.fillStyle=gradient;
                        context.clearRect ( 0 , 0 , canvas.width, canvas.height );
                        context.fillStyle='white';
                        context.fillText($scope.sampleData[idx].value,600,300);
                        context.textAlign = 'center';
                        context.textBaseline = "middle";
                      }
                    }
                    if( count == 0) clearInterval(timer);
      },90);
    }, 4100);
  });